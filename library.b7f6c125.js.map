{"mappings":"AAAAA,OAAOC,iBAAiB,QAEjB,WACL,MAAMC,EAAYC,SAASC,gBAErBC,EAAgBC,aAAaC,QAAQ,cAE3C,IAAIC,EACAR,OAAOS,aACTD,EAAYR,OAAOS,WAAW,gCAAgCC,QAC1D,OACA,SAENV,OACGS,WAAW,gCACXR,iBAAiB,UAAUU,KACzBN,GAAgBO,OAGrB,MAAMC,EAAcV,SAASW,cAAc,eACrCC,EAAcZ,SAASW,cAAc,eAEvCD,GACFA,EAAYZ,iBAAiB,SAAS,SAAUU,GAC9CI,EAAYC,UAAUC,OAAO,UAC7BL,GAAY,MAIZG,GACFA,EAAYd,iBAAiB,SAAS,SAAUU,GAC9CI,EAAYC,UAAUC,OAAO,UAC7BX,aAAaY,QAAQ,aAAc,OAevC,SAASN,EAAYO,GAAY,GAC/B,IACIC,EADAC,EAAcnB,EAAUc,UAAUM,SAAS,SAAW,QAAU,OAGhD,UAAhBD,EACFD,EAAW,OACc,SAAhBC,IACTD,EAAW,SAGblB,EAAUc,UAAUC,OAAOI,GAC3BnB,EAAUc,UAAUO,IAAIH,GACxBD,GAAYb,aAAaY,QAAQ,aAAcE,GAtB3Cf,GACFH,EAAUc,UAAUO,IAAIlB,GACxBU,EAAYC,UAAUO,IAAI,WAE1BrB,EAAUc,UAAUO,IAAIf","sources":["src/js/themeChangeLib.js"],"sourcesContent":["window.addEventListener('load', windowLoad);\n\nexport function windowLoad() {\n  const htmlBlock = document.documentElement;\n\n  const saveUserTheme = localStorage.getItem('user-theme');\n\n  let userTheme;\n  if (window.matchMedia) {\n    userTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light';\n  }\n  window\n    .matchMedia('(prefers-color-scheme: dark)')\n    .addEventListener('change', e => {\n      !saveUserTheme ? changeTheme() : null;\n    });\n\n  const themeButton = document.querySelector('.page-theme');\n  const resetButton = document.querySelector('.page-reset');\n\n  if (themeButton) {\n    themeButton.addEventListener('click', function (e) {\n      resetButton.classList.remove('active');\n      changeTheme(true);\n    });\n  }\n\n  if (resetButton) {\n    resetButton.addEventListener('click', function (e) {\n      resetButton.classList.remove('active');\n      localStorage.setItem('user-theme', '');\n    });\n  }\n\n  function setThemeClass() {\n    if (saveUserTheme) {\n      htmlBlock.classList.add(saveUserTheme);\n      resetButton.classList.add('active');\n    } else {\n      htmlBlock.classList.add(userTheme);\n    }\n  }\n\n  setThemeClass();\n\n  function changeTheme(saveTheme = false) {\n    let curentTheme = htmlBlock.classList.contains('light') ? 'light' : 'dark';\n    let newTheme;\n\n    if (curentTheme === 'light') {\n      newTheme = 'dark';\n    } else if (curentTheme === 'dark') {\n      newTheme = 'light';\n    }\n\n    htmlBlock.classList.remove(curentTheme);\n    htmlBlock.classList.add(newTheme);\n    saveTheme ? localStorage.setItem('user-theme', newTheme) : null;\n  }\n}\n"],"names":["window","addEventListener","htmlBlock","document","documentElement","saveUserTheme","localStorage","getItem","userTheme","matchMedia","matches","e","changeTheme","themeButton","querySelector","resetButton","classList","remove","setItem","saveTheme","newTheme","curentTheme","contains","add"],"version":3,"file":"library.b7f6c125.js.map"}