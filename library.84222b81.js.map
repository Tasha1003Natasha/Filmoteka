{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6cfbc93783686ae8.js","src/js/library.js","src/js/paginationLib.js","src/js/markUp/markupModalLibrary.js","node_modules/@parcel/runtime-js/lib/runtime-246d7f17877b7a3f.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bHX8u\\\":\\\"library.84222b81.js\\\",\\\"9v6fF\\\":\\\"symbol-defs.ce986458.svg\\\",\\\"jVFD5\\\":\\\"library.9bbbddce.js\\\"}\"));","import { markUpForLibrary } from './markUp/markUpforLibrary';\n\nimport {\n  firstPaginationCall,\n  removePagination,\n  paginationMarkupLib,\n} from './paginationLib';\nimport markUpModalLib from './markUp/markupModalLibrary';\nimport Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  width: '300px',\n  position: 'top-left',\n  closeButton: false,\n  cssAnimationStyle: 'from-right',\n  timeout: 1000,\n  success: {\n    background: '#FF6B08',\n    svgColor: '#32c682',\n    titleColor: '#1e1e1e',\n    messageColor: '#242424',\n    buttonBackground: '#32c682',\n    buttonColor: '#fff',\n    backOverlayColor: 'rgba(50,198,130,0.2)',\n  },\n  info: {\n    background: '#50c184',\n  },\n});\n\nconst watched = document.querySelector('.library__button--watched');\nconst queue = document.querySelector('.library__button--queue');\nlet elementForModal; //елемент открытой картинки\nonClickWatched(); //dont touch\n\nlet arrForQueue = [];\nlet arrForWatched = [];\nif (localStorage.getItem('watched')) {\n  arrForWatched = JSON.parse(localStorage.getItem('watched'));\n} else {\n  localStorage.setItem('watched', JSON.stringify([]))\n}\nif (localStorage.getItem('queue')) {\n  arrForQueue = JSON.parse(localStorage.getItem('queue'));\n}else {\n  localStorage.setItem('queue', JSON.stringify([]))\n}\n\nconst gallery = document.querySelector('.gallery');\nconst backdrop = document.querySelector('.backdrop');\n//==================\nlet deleteBtn;\nlet addToQueue;\n//=============================\ngallery.addEventListener('click', onClick);\n\n//========================================================================\n\nfunction checkAddBtn() {\n  if (queue.classList.contains('active')) {\n    const res = JSON.parse(localStorage.getItem('watched')).some(\n      el => el.id === elementForModal.id\n    );\n\n    if (res) {\n      addToQueue.setAttribute('disabled', true);\n      addToQueue.textContent = 'Added to watched';\n      addToQueue.classList.add('inactive');\n      // addToQueue.style.display = 'none';\n    }\n  } else if (watched.classList.contains('active')) {\n    const res = JSON.parse(localStorage.getItem('queue')).some(\n      el => el.id === elementForModal.id\n    );\n    if (res) {\n      addToQueue.setAttribute('disabled', true);\n      addToQueue.textContent = 'Added to queue';\n      addToQueue.classList.add('inactive');\n    }\n  }\n}\n//========================================================================\nlet onButtonGenerate = '';\nfunction onClick(event) {\n  if (!event.target.closest('li')) {\n    return;\n  }\n  if (watched.classList.contains('active')) {\n    onButtonGenerate = 'watched';\n  } else {\n    onButtonGenerate = 'queue';\n  }\n  let response = JSON.parse(localStorage.getItem(onButtonGenerate));\n\n  backdrop.classList.remove('is-hidden');\n  const currentId = event.target.closest('li').id;\n\n  elementForModal = response.find(el => String(el.id) === currentId);\n\n  if (watched.classList.contains('active')) {\n    markUpModalLib(elementForModal, 'REMOVE FROM LIST', 'add to queue');\n  } else {\n    markUpModalLib(elementForModal, 'REMOVE FROM LIST', 'add to watched');\n  }\n  deleteBtn = document.querySelector('.delete-btn');\n  addToQueue = document.querySelector('.queue-btn');\n  deleteBtn.addEventListener('click', onClickDelete);\n  addToQueue.addEventListener('click', onClickAddtBtn);\n\n  checkAddBtn();\n}\nfunction onClickDelete() {\n  if (watched.classList.contains('active')) {\n    checkDeleteBtn('watched');\n  } else if (queue.classList.contains('active')) {\n    checkDeleteBtn('queue');\n  }\n}\nfunction onClickAddtBtn() {\n  if (queue.classList.contains('active')) {\n    \n    arrForWatched = JSON.parse(localStorage.getItem('watched'));\n    \n    let res = arrForWatched.filter(el => el.id !== elementForModal.id);\n    arrForWatched = res;\n    arrForWatched.push(elementForModal);\n    localStorage.setItem('watched', JSON.stringify(arrForWatched));//problem \n    Notiflix.Notify.info('Movie was addeed to your watched list');\n    addToQueue.setAttribute('disabled', true);\n    addToQueue.classList.add('inactive');\n    return;\n  } else if (watched.classList.contains('active')) {\n    \n    arrForQueue.push(elementForModal);\n\n    arrForQueue = JSON.parse(localStorage.getItem('queue'));\n\n    \n    let res = arrForQueue.filter(el => el.id !== elementForModal.id);\n    arrForQueue = res;\n    arrForQueue.push(elementForModal);\n    localStorage.setItem('queue', JSON.stringify(arrForQueue));\n\n    Notiflix.Notify.info('Movie was addeed to your queue');\n\n    addToQueue.setAttribute('disabled', true);\n    addToQueue.classList.add('inactive');\n    return;\n   \n  }\n}\n\nfunction checkDeleteBtn(name) {\n  if (deleteBtn.textContent === 'REMOVE FROM LIST') {\n    Notiflix.Notify.success('Film was removed');\n    deleteBtn.classList.add('visually-hidden');\n    let resFromStorage = JSON.parse(localStorage.getItem(name));\n\n    let resToStorage = resFromStorage.filter(\n      el => el.id !== elementForModal.id\n    );\n\n    localStorage.setItem(name, JSON.stringify(resToStorage));\n    \n    if (name === 'watched') {\n      onClickWatched();\n    } else if (name === 'queue') {\n      onClickQueue();\n    }\n  }\n  return;\n}\n\nwatched.addEventListener('click', onClickWatched);\nqueue.addEventListener('click', onClickQueue);\n\nfunction onClickWatched() {\n  watched.classList.add('active');\n\n  queue.classList.remove('active');\n  const item = JSON.parse(localStorage.getItem('watched'));\n\n  if (item && item.length > 0) {\n    firstPaginationCall('watched'); //dont touch==============\n    \n  } else {\n    removePagination();\n    markUpForLibrary([]);\n  }\n}\nfunction onClickQueue() {\n  const item = JSON.parse(localStorage.getItem('queue'));\n  queue.classList.add('active');\n  watched.classList.remove('active');\n  if (item && item.length > 0) {\n    firstPaginationCall('queue'); //dont touch===========\n    \n  } else {\n    removePagination();\n    markUpForLibrary([]);\n  }\n}\n\n","import { markUpForLibrary } from './markUp/markUpforLibrary';\nconst paginList = document.querySelector('.pagination__list');\nconst paginBlock = document.querySelector('.pagination');\nconst prevBtn = document.querySelector('.pagination__btn-prev');\nconst nextBtn = document.querySelector('.pagination__btn-next');\nconst PAGE = 'pageLib';\n\nlet currentPage = Number(JSON.parse(localStorage.getItem(PAGE)));\nlet totalPages;\nlet arrLib;\n\nfunction changeCurrentPage(page) {\n  localStorage.setItem(PAGE, JSON.stringify(page));\n  currentPage = Number(JSON.parse(localStorage.getItem(PAGE)));\n}\n\nfunction firstPaginationCall(arr) {\n  arrLib = JSON.parse(localStorage.getItem(`${arr}`));\n  totalPages = Math.ceil(arrLib.length / 20);\n  \n  if (!currentPage) {\n    changeCurrentPage(1);\n  }\n  if (currentPage > totalPages) {\n    changeCurrentPage(totalPages);\n  }\n  const indexOfArrLib = (currentPage - 1) * 20;\n  markUpForLibrary(arrLib.slice(indexOfArrLib, indexOfArrLib + 20));\n  paginationMarkupLib();\n}\n\n// function paginationRemoveFromLib(arr) {\n//   arrLib = JSON.parse(localStorage.getItem(`${arr}`));\n//   totalPages = Math.ceil(arrLib.length / 20);\n//   \n//   if (currentPage > totalPages) {\n//     currentPage = totalPages;\n//   }\n//   const indexOfArrLib = (currentPage - 1) * 20;\n//   markUpForLibrary(arrLib.slice(indexOfArrLib, indexOfArrLib + 20));\n//   paginationMarkupLib();\n// }\n\nfunction paginationMarkupLib() {\n  //   paginBlock.removeEventListener('click', onClickPagination);\n  let markup = '';\n  if (currentPage >= 1) {\n    markup += `<li class=\"pagination__item\">1</li>`;\n  }\n  if (currentPage === 2) {\n    markup += '<li class=\"pagination__item\">2</li>';\n  }\n  if (currentPage === 3) {\n    markup +=\n      '<li class=\"pagination__item\">2</li><li class=\"pagination__item\">3</li>';\n  }\n  if (currentPage === 4) {\n    markup += `<li class=\"pagination__item-hidden is-hidden\"><span>...</span></li><li class=\"pagination__item\">2</li><li class=\"pagination__item\">3</li><li class=\"pagination__item\">4</li>`;\n  }\n  if (currentPage > 4) {\n    markup += `<li class=\"pagination__item-hidden\"><span>...</span></li><li class=\"pagination__item\">${\n      currentPage - 2\n    }</li><li class=\"pagination__item\">${\n      currentPage - 1\n    }</li><li class=\"pagination__item\">${currentPage}</li>`;\n  }\n  if (totalPages - currentPage >= 4) {\n    markup += `<li class=\"pagination__item\">${\n      currentPage + 1\n    }</li><li class=\"pagination__item\">${\n      currentPage + 2\n    }</li><li class=\"pagination__item-hidden\"><span>...</span></li>`;\n  }\n  if (totalPages - currentPage === 3) {\n    markup += `<li class=\"pagination__item\">${\n      currentPage + 1\n    }</li><li class=\"pagination__item\">${\n      currentPage + 2\n    }</li><li class=\"pagination__item-hidden is-hidden\"><span>...</span></li>`;\n  }\n  if (totalPages - currentPage === 2) {\n    markup += `<li class=\"pagination__item\">${currentPage + 1}</li>`;\n  }\n  if (totalPages - currentPage === 0) {\n    paginList.innerHTML = markup;\n    addEdgeClass();\n    addCurrentClassBtn();\n    isEdgePage();\n    paginBlock.addEventListener('click', onClickPagination);\n    return;\n  }\n  markup += `<li class=\"pagination__item\">${totalPages}</li>`;\n  paginList.innerHTML = markup;\n  addEdgeClass();\n  addCurrentClassBtn();\n  isEdgePage();\n  paginBlock.addEventListener('click', onClickPagination);\n}\n\nfunction onClickPagination(evt) {\n  if (evt.target.nodeName === 'BUTTON') {\n    if (evt.target.dataset.btn === 'prev') {\n      changeCurrentPage(currentPage - 1);\n      sendRequest();\n    }\n    if (evt.target.dataset.btn === 'next') {\n      changeCurrentPage(currentPage + 1);\n      sendRequest();\n    }\n  }\n  if (\n    evt.target.nodeName !== 'LI' ||\n    evt.target.classList.contains('pagination__item-hidden')\n  ) {\n    return;\n  }\n  if (String(currentPage) === evt.target.textContent) {\n    return;\n  }\n  changeCurrentPage(Number(evt.target.textContent));\n  sendRequest();\n}\n\n// paginationMarkup();\n\nfunction addEdgeClass() {\n  paginList.lastElementChild.classList.add('pagination-edge');\n  if (currentPage > 3) {\n    paginList.firstElementChild.classList.add('pagination-edge');\n  }\n  if (totalPages - currentPage < 3) {\n    paginList.lastElementChild.classList.remove('pagination-edge');\n  }\n}\n\nfunction addCurrentClassBtn() {\n  const list = document.querySelectorAll('.pagination__item');\n  list.forEach(el => {\n    if (el.textContent === String(currentPage)) {\n      el.classList.add('pagination__currentPage');\n    }\n  });\n}\n\nfunction isEdgePage() {\n  if (currentPage === 1) {\n    prevBtn.disabled = true;\n    prevBtn.classList.remove('pagination__btn');\n    prevBtn.classList.add('pagination__btn-Ldisabled');\n  } else {\n    prevBtn.disabled = false;\n    prevBtn.classList.add('pagination__btn');\n    prevBtn.classList.remove('pagination__btn-Ldisabled');\n  }\n\n  if (currentPage === totalPages) {\n    nextBtn.disabled = true;\n    nextBtn.classList.remove('pagination__btn');\n    nextBtn.classList.add('pagination__btn-Rdisabled');\n  } else {\n    nextBtn.disabled = false;\n    nextBtn.classList.add('pagination__btn');\n    nextBtn.classList.remove('pagination__btn-Rdisabled');\n  }\n}\n\nfunction sendRequest() {\n  paginBlock.removeEventListener('click', onClickPagination);\n  const indexOfArrLib = (currentPage - 1) * 20;\n  markUpForLibrary(arrLib.slice(indexOfArrLib, indexOfArrLib + 20));\n\n  paginationMarkupLib();\n  console.log('~ currentPage', currentPage);\n  console.log('~ totalPages', totalPages);\n}\nfunction removePagination() {\n  paginList.innerHTML = '';\n}\n\nexport {\n  paginationMarkupLib,\n  firstPaginationCall,\n  // paginationRemoveFromLib,\n  removePagination,\n};\n","import sprite from '../../images/symbol-defs.svg';\n\nlet objFindItem;\n\nconst backdrop = document.querySelector('.backdrop');\n\nexport default function markUpModalLib(obj, nameBtnFirst, nameBtnLast) {\n  if (obj) {\n    // //////////////////////////////////////////////////////\n    document.addEventListener('click', handleClick);\n    document.addEventListener('keydown', onEscape);\n    // ////////////////////////////////////////////////////\n    const genres = JSON.parse(localStorage.getItem('genres'));\n    const urlImg = 'https://image.tmdb.org/t/p/w500';\n\n    objFindItem = obj;\n\n    //при нажатии на карточку обект карточки пущится в массив\n\n    const markUp = `\n      <div class=\"modal-group\">\n        <button data-modal-close class=\"modal-group__close-btn\">\n        <object class=\"modal-group__close-object\">\n            <svg class=\"modal-group__close-icon\" width=\"28\" height=\"28\">\n              <use href=\"${sprite}#icon-close-modal\"></use>\n            </svg>\n          </object>\n        </button>\n        <div class=\"modal-group__img-wrapper\">\n          <img\n            class=\"modal-group__img\"\n            src=\"${\n              obj.poster_path\n                ? urlImg + obj.poster_path\n                : 'https://s1.hostingkartinok.com/uploads/images/2022/07/40ceaea2e22257d2a139ca5a0c0b8ba9.jpg'\n            }\"\n            alt=\"${obj.original_title}\"\n            \n          />\n        </div>\n        <div class=\"modal-group__wrapper\">\n          <h2 class=\"modal-group__title\">${obj.original_title}</h2>\n          <table class=\"table\">\n            <tbody>\n              <tr>\n                <td class=\"table__title\">Vote / Votes</td>\n                <td class=\"table__text\">\n                  <span class=\"gallery-text__rating table-text-orange\">${\n                    obj.vote_average\n                  }</span>\n                  /\n                  <span class=\"table-text-grey\">${obj.vote_count}</span>\n                </td>\n              </tr>\n  \n              <tr>\n                <td class=\"table__title\">Popularity</td>\n                <td class=\"table__text\">${obj.popularity}</td>\n              </tr>\n              <tr>\n                <td class=\"table__title\">Original Title</td>\n                <td class=\"table__text\">${obj.original_title}</td>\n              </tr>\n              <tr>\n                <td class=\"table__title\">Genre</td>\n                <td class=\"table__text\">${\n                  obj.genre_ids.length > 0\n                    ? obj.genre_ids.map(gen => {\n                        return (gen = ' ' + genres[gen]);\n                      })\n                    : 'No genres found'\n                }</td>\n              </tr>\n            </tbody>\n          </table>\n  \n          <h3 class=\"modal-group__about-title\">About</h3>\n          <p class=\"modal-group__about-text\">\n          ${obj.overview?obj.overview:'No info'}\n          </p>\n          <div class=\"modal-group__btns\">\n            <button class=\"watched-btn delete-btn\" type=\"submit\" >${nameBtnFirst.toUpperCase()}</button>\n            <button class=\"queue-btn\" type=\"submit\">${nameBtnLast.toUpperCase()}</button>\n          </div>\n        </div>\n      </div>`;\n\n    backdrop.innerHTML = markUp;\n\n    const closeBtn = document.querySelector('.modal-group__close-btn');\n\n    closeBtn.addEventListener('click', () => {\n      backdrop.classList.add('is-hidden');\n      // ///////////////////////////////////////////\n      document.removeEventListener('click', handleClick);\n      document.removeEventListener('keydown', onEscape);\n      // ///////////////////////////////////////////////////\n    });\n\n    function onClickQueue() {\n      const resq = checkQueue();\n      if (resq === 'REMOVE') {\n       \n        let resFromQ = JSON.parse(localStorage.getItem('queue'));\n        \n        let resToStorage = resFromQ.filter(el => el.id !== objFindItem.id);\n       \n        localStorage.setItem('queue', JSON.stringify(resToStorage));\n      } else {\n        arrForQueue.push(forLocalStorage);\n        localStorage.setItem('queue', JSON.stringify(arrForQueue));\n      }\n    }\n  }\n}\n\n///////// Ф-ція закриття по Escape/////\n\nfunction onEscape(event) {\n  if (event.keyCode === 27) {\n    backdrop.classList.add('is-hidden');\n  }\n}\n\n///////// Ф-ція закриття модалки  handleClick за кліком поза межами модалки/////\nfunction handleClick(event) {\n  if (event.target.nodeName === 'DIV') {\n    backdrop.classList.add('is-hidden');\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9v6fF\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$9o3Er","$2395ae72a973a3ea$var$paginList","document","querySelector","$2395ae72a973a3ea$var$paginBlock","$2395ae72a973a3ea$var$prevBtn","$2395ae72a973a3ea$var$nextBtn","$2395ae72a973a3ea$var$totalPages","$2395ae72a973a3ea$var$arrLib","$2395ae72a973a3ea$var$currentPage","Number","localStorage","getItem","$2395ae72a973a3ea$var$changeCurrentPage","page","setItem","stringify","$2395ae72a973a3ea$export$31993a1791953749","arr","Math","ceil","indexOfArrLib","markUpForLibrary","slice","$2395ae72a973a3ea$export$92a8daa6d8c6a0d4","markup","innerHTML","$2395ae72a973a3ea$var$addEdgeClass","$2395ae72a973a3ea$var$addCurrentClassBtn","$2395ae72a973a3ea$var$isEdgePage","addEventListener","$2395ae72a973a3ea$var$onClickPagination","evt","target","nodeName","dataset","btn","$2395ae72a973a3ea$var$sendRequest","classList","contains","String","textContent","lastElementChild","add","firstElementChild","remove","querySelectorAll","forEach","el","disabled","removeEventListener","console","log","$2395ae72a973a3ea$export$69cd83fdda46a886","$e19bd6d02eba882c$var$objFindItem","$10db6f286535da77$exports","URL","resolve","import","meta","url","toString","$e19bd6d02eba882c$var$backdrop","$e19bd6d02eba882c$export$2e2bcd8739ae039","obj","nameBtnFirst","nameBtnLast","$e19bd6d02eba882c$var$handleClick","$e19bd6d02eba882c$var$onEscape","genres","urlImg","markUp","$parcel$interopDefault","poster_path","original_title","vote_average","vote_count","popularity","genre_ids","map","gen","overview","toUpperCase","event","keyCode","$eWCmQ","Notify","init","width","position","closeButton","cssAnimationStyle","timeout","success","background","svgColor","titleColor","messageColor","buttonBackground","buttonColor","backOverlayColor","info","$1cafa503bc57b7a0$var$watched","$1cafa503bc57b7a0$var$queue","$1cafa503bc57b7a0$var$elementForModal","$1cafa503bc57b7a0$var$onClickWatched","$1cafa503bc57b7a0$var$arrForQueue","$1cafa503bc57b7a0$var$arrForWatched","$1cafa503bc57b7a0$var$gallery","$1cafa503bc57b7a0$var$backdrop","$1cafa503bc57b7a0$var$deleteBtn","$1cafa503bc57b7a0$var$addToQueue","closest","$1cafa503bc57b7a0$var$onButtonGenerate","response","currentId","find","$1cafa503bc57b7a0$var$onClickDelete","$1cafa503bc57b7a0$var$onClickAddtBtn","some","setAttribute","$1cafa503bc57b7a0$var$checkAddBtn","$1cafa503bc57b7a0$var$checkDeleteBtn","res","filter","push","name","resToStorage","$1cafa503bc57b7a0$var$onClickQueue","item"],"version":3,"file":"library.84222b81.js.map"}