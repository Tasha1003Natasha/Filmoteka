{"mappings":"AAAAA,OAAOC,iBAAiB,QAEjB,WACL,IAIIC,EAJEC,EAAYC,SAASC,gBAErBC,EAAgBC,aAAaC,QAAQ,cAGvCR,OAAOS,aACTP,EAAYF,OAAOS,WAAW,gCAAgCC,QAC1D,OACA,SAENV,OACGS,WAAW,gCACXR,iBAAiB,UAAU,SAAAU,IACzBL,GAAgBM,OAGrB,IAAMC,EAAcT,SAASU,cAAc,eACrCC,EAAcX,SAASU,cAAc,eA2B3C,SAASF,I,IAEHI,EAFeC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,IAAiBA,UAAA,GAChCE,EAAcjB,EAAUkB,UAAUC,SAAS,SAAW,QAAU,OAGhD,UAAhBF,EACFJ,EAAW,OACc,SAAhBI,IACTJ,EAAW,SAGbb,EAAUkB,UAAUE,OAAOH,GAC3BjB,EAAUkB,UAAUG,IAAIR,GACxBC,GAAYV,aAAakB,QAAQ,aAAcT,GArC7CH,GACFA,EAAYZ,iBAAiB,SAAS,SAAUU,GAC9CI,EAAYM,UAAUE,OAAO,UAC7BX,GAAY,MAIZG,GACFA,EAAYd,iBAAiB,SAAS,SAAUU,GAC9CI,EAAYM,UAAUE,OAAO,UAC7BhB,aAAakB,QAAQ,aAAc,OAKjCnB,GACFH,EAAUkB,UAAUG,IAAIlB,GACxBS,EAAYM,UAAUG,IAAI,WAE1BrB,EAAUkB,UAAUG,IAAItB","sources":["src/js/themeChangeLib.js"],"sourcesContent":["window.addEventListener('load', windowLoad);\n\nexport function windowLoad() {\n  const htmlBlock = document.documentElement;\n\n  const saveUserTheme = localStorage.getItem('user-theme');\n\n  let userTheme;\n  if (window.matchMedia) {\n    userTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light';\n  }\n  window\n    .matchMedia('(prefers-color-scheme: dark)')\n    .addEventListener('change', e => {\n      !saveUserTheme ? changeTheme() : null;\n    });\n\n  const themeButton = document.querySelector('.page-theme');\n  const resetButton = document.querySelector('.page-reset');\n\n  if (themeButton) {\n    themeButton.addEventListener('click', function (e) {\n      resetButton.classList.remove('active');\n      changeTheme(true);\n    });\n  }\n\n  if (resetButton) {\n    resetButton.addEventListener('click', function (e) {\n      resetButton.classList.remove('active');\n      localStorage.setItem('user-theme', '');\n    });\n  }\n\n  function setThemeClass() {\n    if (saveUserTheme) {\n      htmlBlock.classList.add(saveUserTheme);\n      resetButton.classList.add('active');\n    } else {\n      htmlBlock.classList.add(userTheme);\n    }\n  }\n\n  setThemeClass();\n\n  function changeTheme(saveTheme = false) {\n    let curentTheme = htmlBlock.classList.contains('light') ? 'light' : 'dark';\n    let newTheme;\n\n    if (curentTheme === 'light') {\n      newTheme = 'dark';\n    } else if (curentTheme === 'dark') {\n      newTheme = 'light';\n    }\n\n    htmlBlock.classList.remove(curentTheme);\n    htmlBlock.classList.add(newTheme);\n    saveTheme ? localStorage.setItem('user-theme', newTheme) : null;\n  }\n}\n"],"names":["window","addEventListener","userTheme","htmlBlock","document","documentElement","saveUserTheme","localStorage","getItem","matchMedia","matches","e","changeTheme","themeButton","querySelector","resetButton","newTheme","saveTheme","arguments","length","curentTheme","classList","contains","remove","add","setItem"],"version":3,"file":"library.924663ce.js.map"}